<!doctype html>
<html>
   <head>
      <meta charset="UTF-8" />
      <title>Gametype Code | ReachVariantTool Documentation</title>
      <base href="../../" />
      <link rel="stylesheet" href="resources/main.css" />
      <noscript>
         <link rel="stylesheet" href="resources/noscript.css" />
      </noscript>
   </head>
   <body>
      <nav id="sidebar">
         <ul>
            <li><a href="index.html">Index</a></li>
            <li>
               <a href="editor/main_window/index.html">Main Window</a>
               <ul>
                  <li><a href="editor/main_window/metadata.html">Metadata</a></li>
                  <li><a href="editor/main_window/options-general.html">General Settings</a></li>
                  <li><a href="editor/main_window/options-respawn.html">Respawn Settings</a></li>
                  <li><a href="editor/main_window/options-social.html">Social Settings</a></li>
                  <li><a href="editor/main_window/options-map.html">Map and Game Settings</a></li>
                  <li>
                     <a href="editor/main_window/options-team.html">Team Settings</a>
                     <ul>
                        <li><a href="editor/main_window/options-team-specific.html">Individual Team Settings</a></li>
                     </ul>
                  </li>
                  <li>
                     <a href="editor/main_window/options-loadout.html">Loadout Settings</a>
                     <ul>
                        <li><a href="editor/main_window/options-loadout-specific.html">Individual Loadout Settings</a></li>
                     </ul>
                  </li>
                  <li><a href="editor/main_window/options-megalo.html">Script-Specific Settings</a></li>
                  <li><a href="editor/main_window/option-visibility.html">Option Visibility</a></li>
                  <li><a href="editor/main_window/tu1.html">Title Update Settings</a></li>
                  <li><a href="editor/main_window/forge.html">Forge Settings</a></li>
               </ul>
            </li>
            <li>
               <a href="editor/script_window/index.html">Script Window</a>
               <ul>
                  <li><a href="editor/script_window/meta-strings.html">Metadata Strings</a></li>
                  <li><a href="editor/script_window/string-table.html">All Other Strings</a></li>
                  <li><a href="editor/script_window/forge-labels.html">Forge Labels</a></li>
                  <li><a href="editor/script_window/map-permissions.html">Map Permissions</a></li>
                  <li><a href="editor/script_window/player-rating-parameters.html">Player Rating Parameters</a></li>
                  <li><a href="editor/script_window/required-object-types.html">Required Object Types</a></li>
                  <li><a href="editor/script_window/script-options.html">Scripted Options</a></li>
                  <li><a href="editor/script_window/script-traits.html">Scripted Traits</a></li>
                  <li><a href="editor/script_window/script-stats.html">Scripted Stats</a></li>
                  <li><a href="editor/script_window/script-widgets.html">Scripted Widgets</a></li>
                  <li><a href="editor/script_window/gametype-code.html">Gametype Code</a></li>
               </ul>
            </li>
            <li>
               <a href="script/syntax.html">Scripting Language</a>
               <ul>
                  <li><a href="script/alias.html">Aliases</a></li>
                  <li><a href="script/events.html">Events</a></li>
                  <li><a href="script/for.html">For-each-loops</a></li>
                  <li><a href="script/if.html">If-/alt-statements</a></li>
                  <li><a href="script/operators.html">Operators</a></li>
                  <li><a href="script/enum.html">User-defined enums</a></li>
                  <li><a href="script/function.html">User-defined functions</a></li>
                  <li><a href="script/snippets.html">Useful code snippets</a></li>
               </ul>
            </li>
            <li>
               <a href="script/api/index.html">Script API reference</a>
               <ul>
                  <li>
                     <a>Namespaces</a>
                     <ul>
                        <li><a href="script/api/ns_unnamed.html">Content not in any namespace</a></li>
                        <li><a href="script/api/ns_enums.html">enums</a></li>
                        <li><a href="script/api/ns_game.html">game</a></li>
                        <li><a href="script/api/ns_global.html">global</a></li>
                     </ul>
                  </li>
                  <li>
                     <a>Types</a>
                     <ul>
                        <li>
                           <a>Variables</a>
                           <ul>
                              <li><a href="script/api/number.html">Number</a></li>
                              <li><a href="script/api/object.html">Object</a></li>
                              <li><a href="script/api/player.html">Player</a></li>
                              <li><a href="script/api/team.html">Team</a></li>
                              <li><a href="script/api/timer.html">Timer</a></li>
                           </ul>
                        </li>
                        <li>
                           <a>Misc</a>
                           <ul>
                              <li><a href="script/api/bool.html">Bool</a></li>
                              <li><a href="script/api/engine-icon.html">Engine Icon</a></li>
                              <li><a href="script/api/forge-label.html">Forge Label</a></li>
                              <li><a href="script/api/format-string.html">Format String</a></li>
                              <li><a href="script/api/object-type.html">Object Type</a></li>
                              <li><a href="script/api/player-set.html">Player Set</a></li>
                              <li><a href="script/api/variant-string-id.html">Variant ID</a></li>
                              <li><a href="script/api/waypoint-icon.html">Waypoint Icon</a></li>
                              <li><a href="script/api/widget.html">Widget</a></li>
                              <li><a href="script/api/widget-icon.html">Widget Icon</a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
               </ul>
            </li>
         </ul>
      </nav>
      <main>
         <h1>Gametype Code</h1>

      <p>
         The <b>gametype code</b> page allows you to decompile a gametype's script code, 
         and compile new code into a gametype.
      </p>
      <img src="editor/script_window/gametype-code.png">
      <p>
         The top half of the page consists of a code editor textbox and buttons to decompile 
         or recompile. The bottom half of the page is a results log for the compiler. You 
         can resize how much of the page each half uses by dragging the space between the 
         two halves.
      </p>
      <p>
         There is no confirmation prompt on decompiling or compiling; decompiling will wipe 
         the code editor and fill it with decompiled code, while compiling will immediately 
         replace the gametype's script code with whatever's in the code editor (unless an 
         error occurs, in which case no data is changed).
      </p>
      
      <h2>Unresolved string references</h2>
      <p>
         When you write and compile a gametype script, you don't need to add all of the text 
         that you use to the <a href="editor/script_window/string-table.html">string table</a> in advance. You can just 
         <em>use</em> a string literal, and ReachVariantTool will try to handle it:
      </p>
      <pre>
for each player do
   current_player.set_round_card_title("i didn't bother defining this text\nin advance lol")
end</pre>
      <p>
         <em>However</em>, ReachVariantTool needs just a little bit of help to handle these. 
         When it detects a new string literal in your script, it will display this dialog box:
      </p>
      <img src="editor/script_window/unresolved-strings.png">
      <p>
         For each string literal, you can choose to create the string's text, or you can choose 
         to use an existing string in the string table. This decision isn't "per string," but 
         "per string <em>reference</em>." If the same string literal occurs in two different 
         places in the string, you can have one of those use an existing string in the table 
         and have the other define a new string. Moreover, you can also edit existing strings 
         from here by selecting them and clicking the "..." button.
      </p>
      <p>
         The default course of action is to just define a new string, so you usually won't 
         have to worry about this. You can click "Commit" and be on your way.
      </p>
      
      <h2>Compiler messages</h2>
      <p>
         Each compiler message can be double-clicked to jump to the line and column in the 
         script where the error was detected. This will usually be near, or at the end of, 
         whatever construct actually has the error. You can also click the "Warnings" and 
         "Errors" buttons to filter which log items are displayed.
      </p>
      <p>
         <dfn>Warnings</dfn> are non-essential notifications regarding things that are not 
         necessarily errors, but that you may want to be aware of. For example, some functions 
         can only take a number between -128 and 127. If you specify a number outside of this 
         range, then it will overflow or underflow, and you will be warned; however, it will 
         not prevent your script from compiling.
      </p>
      <p>
         <dfn>Errors</dfn> are important issues that have prevented your script from compiling. 
         If an error occurs, then your script will not be compiled into the game variant file; 
         you need to fix the problem and try again. Even if an error occurs, ReachVariantTool's 
         compiler will keep trying to process the rest of your script, so that if there are any 
         other errors, it can tell you about all of them and you can handle them all at once.
      </p>
      <p>
         <dfn>Fatal errors</dfn> are errors that prevent ReachVariantTool's compiler from 
         continuing to read your script; they are errors that prevent the compiler from being 
         able to understand anything that comes next.
      </p>
      <p>
         An example of a non-fatal error is passing an invalid argument to a function, while an 
         example of a fatal error is using a keyword like <code>end</code> in the wrong place.
      </p>
   
      </main>
      <script src="resources/sidebar.js"></script>
      <script src="resources/header-links.js"></script>
   </body>
</html>