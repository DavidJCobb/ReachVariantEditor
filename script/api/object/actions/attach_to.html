<!doctype html>
<html>
   <head>
      <meta charset="UTF-8" />
      <title>object.attach_to | ReachVariantTool Documentation</title>
      <base href="../../../../" />
      <link rel="stylesheet" href="resources/main.css" />
      <noscript>
         <link rel="stylesheet" href="resources/noscript.css" />
      </noscript>
      <script src="resources/head.js"></script>
   </head>
   <body>
      <nav id="sidebar">
         <ul>
            <li><a href="index.html">Index</a></li>
            <li><a href="script/api/index.html">Script API reference</a></li>
            <hr />
            <li data-disallow-collapse>
               <a href="script/api/object.html">Object</a>
               <ul>
                  <li data-delete-if-empty data-dont-default-collapse>
                     <a>Properties</a>
                     <ul>
                        <li><a href="script/api/object/properties/spawn_sequence.html">spawn_sequence</a></li>
<li><a href="script/api/object/properties/team.html">team</a></li>

                     </ul>
                  </li>
                  <li data-delete-if-empty data-dont-default-collapse>
                     <a>Accessors</a>
                     <ul>
                        <li><a href="script/api/object/accessors/health.html">health</a></li>
<li><a href="script/api/object/accessors/max_health.html">max_health</a></li>
<li><a href="script/api/object/accessors/max_shields.html">max_shields</a></li>
<li><a href="script/api/object/accessors/shields.html">shields</a></li>

                     </ul>
                  </li>
                  <li data-delete-if-empty data-dont-default-collapse>
                     <a>Member conditions</a>
                     <ul>
                        <li><a href="script/api/object/conditions/has_forge_label.html">has_forge_label</a></li>
<li><a href="script/api/object/conditions/is_in_use.html">is_in_use</a></li>
<li><a href="script/api/object/conditions/is_of_type.html">is_of_type</a></li>
<li><a href="script/api/object/conditions/is_out_of_bounds.html">is_out_of_bounds</a></li>
<li><a href="script/api/object/conditions/shape_contains.html">shape_contains</a></li>

                     </ul>
                  </li>
                  <li data-delete-if-empty data-dont-default-collapse>
                     <a>Member actions</a>
                     <ul>
                        <li><a href="script/api/object/actions/add_weapon.html">add_weapon</a></li>
<li><a href="script/api/object/actions/animate_device_position.html">animate_device_position</a></li>
<li><a href="script/api/object/actions/apply_shape_color_from_player_member.html">apply_shape_color_from_player_member</a></li>
<li><a href="script/api/object/actions/push_upward.html">apply_upward_impulse</a></li>
<li><a href="script/api/object/actions/attach_to.html">attach_to</a></li>
<li><a href="script/api/object/actions/copy_rotation_from.html">copy_rotation_from</a></li>
<li><a href="script/api/object/actions/delete.html">delete</a></li>
<li><a href="script/api/object/actions/detach.html">detach</a></li>
<li><a href="script/api/object/actions/enable_spawn_zone.html">enable_spawn_zone</a></li>
<li><a href="script/api/object/actions/face_toward.html">face_toward</a></li>
<li><a href="script/api/object/actions/try_get_carrier.html">get_carrier</a></li>
<li><a href="script/api/object/actions/get_device_position.html">get_device_position</a></li>
<li><a href="script/api/object/actions/get_device_power.html">get_device_power</a></li>
<li><a href="script/api/object/actions/get_distance_to.html">get_distance_to</a></li>
<li><a href="script/api/object/actions/get_orientation.html">get_orientation</a></li>
<li><a href="script/api/object/actions/get_speed.html">get_speed</a></li>
<li><a href="script/api/object/actions/kill.html">kill</a></li>
<li><a href="script/api/object/actions/place_at_me.html">place_at_me</a></li>
<li><a href="script/api/object/actions/place_between_me_and.html">place_between_me_and</a></li>
<li><a href="script/api/object/actions/push_upward.html">push_upward</a></li>
<li><a href="script/api/object/actions/remove_weapon.html">remove_weapon</a></li>
<li><a href="script/api/object/actions/set_device_actual_position.html">set_device_actual_position</a></li>
<li><a href="script/api/object/actions/set_device_animation_position.html">set_device_animation_position</a></li>
<li><a href="script/api/object/actions/set_device_position.html">set_device_position</a></li>
<li><a href="script/api/object/actions/set_device_power.html">set_device_power</a></li>
<li><a href="script/api/object/actions/set_garbage_collection_disabled.html">set_garbage_collection_disabled</a></li>
<li><a href="script/api/object/actions/set_invincibility.html">set_invincibility</a></li>
<li><a href="script/api/object/actions/set_pickup_permissions.html">set_pickup_permissions</a></li>
<li><a href="script/api/object/actions/set_progress_bar.html">set_progress_bar</a></li>
<li><a href="script/api/object/actions/set_scale.html">set_scale</a></li>
<li><a href="script/api/object/actions/set_shape.html">set_shape</a></li>
<li><a href="script/api/object/actions/set_shape_visibility.html">set_shape_visibility</a></li>
<li><a href="script/api/object/actions/set_spawn_location_fireteams.html">set_spawn_location_fireteams</a></li>
<li><a href="script/api/object/actions/set_spawn_location_permissions.html">set_spawn_location_permissions</a></li>
<li><a href="script/api/object/actions/set_waypoint_icon.html">set_waypoint_icon</a></li>
<li><a href="script/api/object/actions/set_waypoint_priority.html">set_waypoint_priority</a></li>
<li><a href="script/api/object/actions/set_waypoint_range.html">set_waypoint_range</a></li>
<li><a href="script/api/object/actions/set_waypoint_text.html">set_waypoint_text</a></li>
<li><a href="script/api/object/actions/set_waypoint_timer.html">set_waypoint_timer</a></li>
<li><a href="script/api/object/actions/set_waypoint_visibility.html">set_waypoint_visibility</a></li>
<li><a href="script/api/object/actions/set_weapon_pickup_priority.html">set_weapon_pickup_priority</a></li>
<li><a href="script/api/object/actions/try_get_carrier.html">try_get_carrier</a></li>

                     </ul>
                  </li>
               </ul>
            </li>
         </ul>
      </nav>
      <main>
         <h1>object.attach_to</h1>

               <p>
                  This function attaches the context object to a given basis object. 
                  The context object will be moved to the basis object's position plus 
                  the supplied offset before the attachment is performed; an argument 
                  allows you to control whether the offset is relative to the rotation 
                  of the basis object. Note that the context object will <em>not</em> 
                  be rotated before the attachment is performed.
               </p>
               <p>
                  Attached objects effectively take on Phased physics; their movement 
                  cannot be impeded by other objects. Additionally, if objects are 
                  attached to a non-solid basis, such as a Flag Stand, then they 
                  themselves stop being solid; and if they are attached to an invisible 
                  basis, such as a Hill Marker, then they stop being visible altogether. 
                  Note that non-solid vehicles still offer entry prompts.
               </p>
            <h2>Arguments</h2>
<dl>
   <dt><a href="script/api/object.html">basis</a></dt>
      <dd>
                  The object to attach this one to.
               </dd>
   <dt>x</dt>
      <dd>
                  The X-coordinate to anchor this object at, relative to the position 
                  of the other object. Allowed values are integer constants between 
                  -128 and 127, inclusive, where 10 is equal to one Forge unit.
               </dd>
   <dt>y</dt>
      <dd>
                  The X-coordinate to anchor this object at, relative to the position 
                  of the other object. Allowed values are integer constants between 
                  -128 and 127, inclusive, where 10 is equal to one Forge unit.
               </dd>
   <dt>z</dt>
      <dd>
                  The X-coordinate to anchor this object at, relative to the position 
                  of the other object. Allowed values are integer constants between 
                  -128 and 127, inclusive, where 10 is equal to one Forge unit.
               </dd>
   <dt>reference_frame</dt>
      <dd>
                  Either the word <var>relative</var>, indicating that the position 
                  offset passed to this function is relative to the rotation of the 
                  <var>basis</var> object, or the word <var>absolute</var>, indicating 
                  that the position offset passed to this function uses the world axes.
               </dd>
</dl>
<h2>Example</h2>
<pre>
<span class="keyword">alias</span> basis = global.object[0]
current_object.attach_to(basis, 0, 0, 20, relative)</pre>
<h2>Notes</h2>
<h3><a name="anchoring">Anchoring</a></h3>

               <p>
                  Objects appear to be attached to the nearest node on a basis object's 
                  3D model, with no apparent distance limit. For example, this piece 
                  of code would create a skull and anchor that skull to a Warthog's 
                  steering wheel:
               </p>
               <pre>
<span class="keyword">alias</span> some_warthog = ...
<span class="comment">--</span>
global.object[0] = some_warthog.place_at_me(skull, none, none, 0, 0, 0, none)
global.object[0].attach_to(some_warthog, 0, 0, 20, relative)</pre>
               <p>
                  Even though the skull is attached to a point two full Forge units 
                  above the Warthog, it still attaches to the nearest node in the 
                  Warthog's 3D model, which happens to be the steering wheel. If a 
                  player enters the driver's seat and turns to the left or right, 
                  the skull will move and rotate in an arc above them, in synch with 
                  the steering wheel. Different offsets would anchor the skull to 
                  other nodes in the Warthog's 3D model, such as its tires.
               </p>
               <p>
                  Most objects have a node defined at their origins, and that can 
                  be used to avoid this behavior: spawn an extra object, have it 
                  copy the rotation of the basis, and then attach it to the basis 
                  with offset (0, 0, 0); then, attach the rest of your objects to 
                  that extra object.
               </p>
            <h3><a name="vehicle-attachment">Effects of attaching vehicles to other objects</a></h3>

               <p>
                  Attaching a vehicle to an object will lock the vehicle in place. The 
                  pilot will be able to look around at any angle, but the vehicle will 
                  not turn, and the vehicle's weapons fire will be constrained to the 
                  weapon's turn radius.
               </p>
               <p>
                  Attached vehicles will not play any entry/exit animations (e.g. a 
                  Banshee's canopy opening and closing), but will instantaneously 
                  update to any animations' end states when detached (e.g. a Banshee's 
                  canopy will instantly snap open or closed as appropriate).
               </p>
               <p>
                  Bipeds in an attached vehicle will lose mose animations. Passengers' 
                  hands may move slightly (and incorrectly) while reloading their weapon; 
                  though they have no reloading or weapon swap animations, appropriate 
                  sounds still play, and they cannot fire their animations while the 
                  animations would be taking place. Some animations have player model 
                  jiggle physics; these jiggle physics remain functional even though 
                  the rest of the animation does not. 
               </p>
               <p>
                  If a Banshee is performing an evasive maneuver at the moment it is 
                  attached, the maneuver will end instantly; no such maneuvers can be 
                  performed once the vehicle is attached.
               </p>
            <h3>Other notes</h3>
<ul>
   <li><p>
               Armor Abilities equipped by other players are an exception to normal 
               attachment behaviors. If you detach an Armor Ability from a player's 
               back, you can move it around or attach it without unequipping it from 
               that player; however, the Armor Ability will automatically detach 
               itself every frame. (Verified for Armor Abilities worn by Monitors, 
               but not tested for Armor Abilities worn by Spartans and Elites.)
            </p></li>
   <li><p>
               Attaching a biped to an object will lock the biped in place. If the 
               biped is controlled by the player, they will be able to turn but not 
               to move, and their first-person legs will desynch from their upper 
               body.
            </p></li>
   <li><p>
               When a biped enters a vehicle, it is considered attached to that 
               vehicle. Scripts cannot attach it to something else while it is in 
               the vehicle. Weapons being carried by a biped are expected to behave 
               similarly.
            </p></li>
   <li><p>
               If something is attached to a Monitor biped, it will bob up and down 
               in synch with that biped's animation. All of a Monitor's nodes, 
               including the one with the animation, are located at the same 
               model-relative coordinate, and the one with the animation is the one 
               that is found by the game engine when performing an attachment.
            </p></li>
   <li><p>
               It appears that attaching an object to <var>no_object</var> and then 
               detaching it will teleport it to the world origin. On Forge World, 
               this is a point out by the canyon's beach.
            </p></li>
</ul><h2>See also</h2>
<ul>
   <li><a href="script/api/object/actions/detach.html">object.detach</a></li>
</ul>

      </main>
      <script src="resources/sidebar.js"></script>
      <script src="resources/header-links.js"></script>
   </body>
</html>